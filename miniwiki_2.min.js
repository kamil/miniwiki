$=require;_=$("fs");$("http").createServer(function(b,a){i=b.url.match(/([a-zA-Z0-9]+)/g);if(!i){i=[];i[0]="i";}w="./"+i[0]+".w";b.on("data",function(c){_.writeFileSync(w,unescape((c+"").substr(2)).replace("+"," "));});_.readFile(w,function(d,c){a.writeHead(200,{"Content-Type":"text/html"});_escaped_data=(""+c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");a.end(_escaped_data.replace(/htt\S+|([A-Z]\w+){2,}/g,"<a href=$&>$&</a>").replace(/\n\r/g,"<p>")+"<hr><form method=POST><textarea cols=99 rows=25 name=d>"+_escaped_data+"</textarea><br><input type=submit ></form>");});}).listen(8000);
