f=require("fs");t=require("url");require("http").createServer(function(b,a){function c(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}u=t.parse(b.url,!0);p=u.pathname;p.match(/\/([a-zA-Z0-9]+)/)||(p="i");w="./"+p+".w";u.query.d?(f.writeFileSync(w,u.query.d),a.writeHead(302,{Location:p}),a.end()):f.readFile(w,function(b,d){a.writeHead(200,{"Content-Type":"text/html"});a.end(c(d).replace(/htt\S+|([A-Z]\w+){2,}/g,"<a href=$&>$&</a>").replace(/\n\r/g,"<p>")+"<hr><form><textarea cols=99 rows=25 name=d>"+
c(d)+"</textarea><br><input type=submit /></form>")})}).listen(8E3);
